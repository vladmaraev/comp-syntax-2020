#+LATEX_HEADER: \usepackage[linguistics]{forest}
#+LATEX_HEADER: \forestset{pad/.style={minimum width=5em}}

* Chapter 1
** Stats (1.4)
*** POS 
**** Japanese
#+BEGIN_SRC sh
  cat ud-treebanks-v2.5/UD_Japanese-PUD/ja_pud-ud-test.conllu | grep -v '#' | grep . | cut -d$'\t' -f 4 | sort | uniq -c | sort -n -r
#+END_SRC

| 6479 | ADP   |
| 5982 | NOUN  |
| 3739 | AUX   |
| 2977 | PUNCT |
| 2419 | VERB  |
| 1408 | PROPN |
| 1147 | SCONJ |
|  723 | ADJ   |
|  541 | NUM   |
|  433 | PRON  |
|  250 | ADV   |
|  184 | SYM   |
|  179 | DET   |
|  130 | CCONJ |
|  116 | PART  |


**** English
#+BEGIN_SRC sh
  cat ud-treebanks-v2.5/UD_English-PUD/en_pud-ud-test.conllu | grep -v '#' | grep . | cut -d$'\t' -f 4 | sort | uniq -c | sort -n -r
#+END_SRC

| 4040 | NOUN  |
| 2493 | ADP   |
| 2451 | PUNCT |
| 2156 | VERB  |
| 2086 | DET   |
| 1727 | PROPN |
| 1540 | ADJ   |
| 1021 | PRON  |
| 1014 | AUX   |
|  849 | ADV   |
|  576 | CCONJ |
|  455 | NUM   |
|  426 | PART  |
|  290 | SCONJ |
|   42 | SYM   |
|   16 | X     |
|    1 | INTJ  |


**** What does this tell about Japanese?
1. Determiners are much more common in English, in Japanese only
   demonstrative pronouns (that) fall into the category, as there are
   no definite and indefinite articles.
2. Pronouns are less frequent in Japanese, because they are commonly omitted. 
3. Adpositions are more frequent in Japanese: for example, topic markers such as は (’as for me’) are very common and denoted as ADP.

   
*** Dependencies 
**** Japanese
#+BEGIN_SRC sh
  cat ud-treebanks-v2.5/UD_Japanese-PUD/ja_pud-ud-test.conllu | grep -v '#' | grep . | cut -d$'\t' -f 8 | sort | uniq -c | sort -n -r
#+END_SRC

| 6375 | case       |
| 3399 | aux        |
| 2977 | punct      |
| 2320 | nmod       |
| 1477 | compound   |
| 1366 | nsubj      |
| 1216 | mark       |
| 1124 | advcl      |
| 1087 | obl        |
| 1000 | root       |
|  929 | acl        |
|  798 | obj        |
|  713 | iobj       |
|  529 | nummod     |
|  370 | advmod     |
|  291 | cop        |
|  179 | det        |
|  127 | amod       |
|   96 | fixed      |
|   95 | csubj      |
|   75 | cc         |
|   68 | ccomp      |
|   50 | appos      |
|   45 | dislocated |
|    1 | dep        |


**** English
#+BEGIN_SRC sh
  cat ud-treebanks-v2.5/UD_English-PUD/en_pud-ud-test.conllu | grep -v '#' | grep . | cut -d$'\t' -f 8 | sort | uniq -c | sort -n -r
#+END_SRC

| 2499 | case         |
| 2451 | punct        |
| 2047 | det          |
| 1393 | nsubj        |
| 1336 | amod         |
| 1237 | obl          |
| 1076 | nmod         |
| 1000 | root         |
|  876 | obj          |
|  852 | advmod       |
|  810 | compound     |
|  634 | conj         |
|  574 | cc           |
|  555 | mark         |
|  410 | aux          |
|  365 | nmod:poss    |
|  316 | cop          |
|  293 | advcl        |
|  274 | aux:pass     |
|  271 | xcomp        |
|  254 | nummod       |
|  239 | nsubj:pass   |
|  230 | flat         |
|  211 | acl:relcl    |
|  193 | acl          |
|  143 | appos        |
|  135 | ccomp        |
|  103 | fixed        |
|   97 | parataxis    |
|   70 | compound:prt |
|   62 | expl         |
|   39 | nmod:tmod    |
|   27 | csubj        |
|   20 | obl:npmod    |
|   19 | nmod:npmod   |
|   18 | obl:tmod     |
|   11 | cc:preconj   |
|   10 | iobj         |
|    9 | det:predet   |
|    7 | orphan       |
|    7 | _            |
|    3 | csubj:pass   |
|    2 | dislocated   |
|    1 | vocative     |
|    1 | reparandum   |
|    1 | goeswith     |
|    1 | discourse    |
|    1 | dep          |


**** What does this tell about Japanese?
1. ~aux~ dependency is much more common in Japanese, because auxiliary verbs are also more common. For example, verb auxiliaries in Japanese are used for marking politeness and continuation. There are also auxiliaries that are attached to nouns (see below).
2. ~amod~ is much more common in English, whether ~acl~ is more common in Japanese. Relative clauses are very common in Japanese, probably due to formal nouns, such as もの and こと (‘thing’, ‘fact’  etc.) which commonly have clausal complement (to express nouns like "running" as "fact that someone runs").

   
** Trees
[[./img/jp-trees.png]]


*** He then spent four years with BBC World Service radio at Bush House.
#+BEGIN_EXAMPLE
# newdoc id = n01072
# sent_id = n01072010
# text = He then spent four years with BBC World Service radio at Bush House.
1       He      he      PRON    PRP     Case=Nom|Gender=Masc|Number=Sing|Person=3|PronType=Prs  3       nsubj   3:nsubj _
2       then    then    ADV     RB      PronType=Dem    3       advmod  3:advmod        _
3       spent   spend   VERB    VBD     Mood=Ind|Tense=Past|VerbForm=Fin        0       root    0:root  _
4       four    four    NUM     CD      NumType=Card    5       nummod  5:nummod        _
5       years   year    NOUN    NNS     Number=Plur     3       nmod:tmod       3:nmod:tmod     _
6       with    with    ADP     IN      _       10      case    10:case _
7       BBC     BBC     PROPN   NNP     Number=Sing     9       compound        9:compound      _
8       World   world   NOUN    NN      Number=Sing     9       compound        9:compound      _
9       Service service NOUN    NN      Number=Sing     10      compound        10:compound     _
10      radio   radio   NOUN    NN      Number=Sing     3       obl     3:obl:with      _
11      at      at      ADP     IN      _       13      case    13:case _
12      Bush    Bush    PROPN   NNP     Number=Sing     13      compound        13:compound     _
13      House   house   PROPN   NN      Number=Sing     3       obl     3:obl:at        SpaceAfter=No
14      .       .       PUNCT   .       _       3       punct   3:punct _
#+END_EXAMPLE

#+BEGIN_EXAMPLE
# sent_id = n01072010
# text = その後、ブッシュハウスで4年をBBCワールドサービスラジオとともに過ごした。
# text_en = He then spent four years with BBC World Service radio at Bush House.
1       その後  その後  NOUN    NR      _       13      obl     _       SpaceAfter=No
2       、      、      PUNCT   SYM     _       1       punct   _       SpaceAfter=No
3       ブッシュハウス  ブッシュハウス  PROPN   NNP     _       13      obl     _       SpaceAfter=No
4       で      で      ADP     PS      _       3       case    _       SpaceAfter=No
5       4       4       NUM     CD      NumType=Card    6       nummod  _       SpaceAfter=No
6       年      年      NOUN    XSC     _       13      obj     _       SpaceAfter=No
7       を      を      ADP     PS      _       6       case    _       SpaceAfter=No
8       BBC     BBC     PROPN   NNP     _       11      compound        _       SpaceAfter=No
9       ワールド        ワールド        NOUN    NN      _       11      compound        _       SpaceAfter=No
10      サービス        サービス        NOUN    NN      _       11      compound        _       SpaceAfter=No
11      ラジオ  ラジオ  NOUN    NN      _       13      obl     _       SpaceAfter=No
12      とともに        とともに        ADP     PP      _       11      case    _       SpaceAfter=No
13      過ごし  過ごす  VERB    VV      _       0       root    _       SpaceAfter=No
14      た      た      AUX     AV      _       13      aux     _       SpaceAfter=No
15      。      。      PUNCT   SYM     _       13      punct   _       SpaceAfter=No
#+END_EXAMPLE
*** I also struggle with passwords.
#+BEGIN_EXAMPLE
# sent_id = n01077018
# text = I also struggle with passwords.
1       I       I       PRON    PRP     Case=Nom|Number=Sing|Person=1|PronType=Prs      3       nsubj   3:nsubj _
2       also    also    ADV     RB      _       3       advmod  3:advmod        _
3       struggle        struggle        VERB    VBP     Mood=Ind|Tense=Pres|VerbForm=Fin        0       root    0:root  _
4       with    with    ADP     IN      _       5       case    5:case  _
5       passwords       password        NOUN    NNS     Number=Plur     3       obl     3:obl:with      SpaceAfter=No
6       .       .       PUNCT   .       _       3       punct   3:punct _
#+END_EXAMPLE

#+BEGIN_EXAMPLE
# sent_id = n01077018
# text = 私はパスワードにも苦労している。
# text_en = I also struggle with passwords.
1       私      私      PRON    NP      _       6       nsubj   _       SpaceAfter=No
2       は      は      ADP     PK      _       1       case    _       SpaceAfter=No
3       パスワード      パスワード      NOUN    NN      _       6       iobj    _  SpaceAfter=No
4       に      に      ADP     PS      _       3       case    _       SpaceAfter=No
5       も      も      ADP     PK      _       3       case    _       SpaceAfter=No
6       苦労    苦労    VERB    VV      _       0       root    _       SpaceAfter=No
7       し      する    AUX     XV      _       6       aux     _       SpaceAfter=No
8       て      て      SCONJ   PC      _       6       mark    _       SpaceAfter=No
9       いる    いる    AUX     AV      _       6       aux     _       SpaceAfter=No
10      。      。      PUNCT   SYM     _       6       punct   _       SpaceAfter=No
#+END_EXAMPLE

** alignment
#+BEGIN_EXAMPLE
1       He         _
2       then       1       その後     (note: NOUN vs ADV)
                   2       、
3       spent      13      過ごし
_       _          14      た
4       four       5       4
5       years      6       年
_       _          7       を
6       with       12      とともに
7       BBC        8       BBC
8       World      9       ワールド
9       Service    10      サービス 
10      radio      11      ラジオ  
11      at         4       で
12      Bush       3       ブッシュハウス
13      House      3       ブッシュハウス
14      .          15      。                    
#+END_EXAMPLE

* Chapter 2
** Morphological types
*** Nouns:
- inherent features
  - gender (feminine, masculine, neuter, +common)
  - animacy (animate, inanimate)
- inflectional features
  - case (nominative, accusative, genetive, dative, instrumental, prepositional, + additional cases (locative, partitive, vocative, countable form))
  - number (singular, plural)
  - diminutives/augmentatives

| feature | typical values                 | examples                                                           |
|---------+--------------------------------+--------------------------------------------------------------------|
| gender  | f, m, n, common                | скала (rock), порох (gunpowder), окно (window), пьяница (drunkard) |
| case    | nom, acc, gen, dat, inst, prep | скала, скалу, скалы, скале, скалой, скале                          |
| number  | sg, pl                         | скала, скалы                                                       |
| animacy | an, inan                       | собака (dog), скала                                                |
| dim/aug | dim, aug                       | зверёк (a small beast), зверина (a massive beast)                  |



*** Adjectives:
- inherent features
  - groups (qualitative, relational, posessive)
- agreement
  - gender, number, case
- inflectional features
  - case (basic cases for nouns + short form for nominative)
  - degree (positive, comparative, superlative)

| feature | typical values                       | examples                                              |
|---------+--------------------------------------+-------------------------------------------------------|
| group   | qual, rel, pos                       | большой (big), больший (bigger), Петин (Pete’s)       |
| case    | nom, acc, gen, dat, inst, prep, shrt | новый (new), новый, нового, новому, новым, новый, нов |
| degree  | pos, cmp, sup                        | новый, новее, новейший                                |


*** Verbs
- inherent features
  - 
- inflectional features:
  - person (1, 2, 3)
  - number (singular, plural)
  - tense (present/future, past) ??
  - aspect (imperfective, perfective)
  - reflexive (-, +)
  - voice (active, passive)
  - mood (indicative, imperative, conditional, subjunctive)

| feature   | typical values       | examples                    |
|-----------+----------------------+-----------------------------|
| aspect    | imperf, perf         | писать (to write), написать |
| reflexive | -, +                 | мыть, мыться                |
| voice     | active, passive      | ловил, ловился              |
| mood      | ind, imp, cond, subj | ...                         |

** PUD types
*** Nouns
#+NAME: noun
#+BEGIN_SRC sh :results value :exports both
cat ud-treebanks-v2.5/UD_Russian-PUD/ru_pud-ud-test.conllu | grep -v '#' | grep NOUN | cut -d$'\t' -f 6 | sort | uniq | grep -o '\w\+=' | sort | uniq -c
#+END_SRC

Features:
#+RESULTS: noun
| 11 | Abbr=    |
| 76 | Animacy= |
| 76 | Case=    |
|  1 | Foreign= |
| 76 | Gender=  |
| 76 | Number=  |

Values:
#+BEGIN_SRC sh :results value :var feat=noun :exports both
  for i in $feat
  do
      cat ud-treebanks-v2.5/UD_Russian-PUD/ru_pud-ud-test.conllu | grep -v '#' | grep NOUN | cut -d$'\t' -f 6 | sort | uniq | grep -o "$i\w\+" | sort | uniq -c
  done
#+END_SRC

#+RESULTS:
| 11 | Abbr=Yes     |
| 33 | Animacy=Anim |
| 43 | Animacy=Inan |
| 12 | Case=Acc     |
| 11 | Case=Dat     |
| 17 | Case=Gen     |
| 11 | Case=Ins     |
| 11 | Case=Loc     |
| 14 | Case=Nom     |
|  1 | Foreign=Yes  |
| 26 | Gender=Fem   |
| 31 | Gender=Masc  |
| 19 | Gender=Neut  |
| 36 | Number=Plur  |
| 40 | Number=Sing  |
*** Adjectives
Features:
#+NAME: adj
#+BEGIN_SRC sh :results value :exports both
cat ud-treebanks-v2.5/UD_Russian-PUD/ru_pud-ud-test.conllu | grep -v '#' | grep ADJ | cut -d$'\t' -f 6 | sort | uniq | grep -o '\w\+=' | sort | uniq -c
#+END_SRC

#+RESULTS: adj
|  5 | Animacy= |
| 32 | Case=    |
| 38 | Degree=  |
| 28 | Gender=  |
| 37 | Number=  |
|  4 | Variant= |

Values:
#+BEGIN_SRC sh :results value :var feat=adj :exports both
  for i in $feat
  do
      cat ud-treebanks-v2.5/UD_Russian-PUD/ru_pud-ud-test.conllu | grep -v '#' | grep ADJ | cut -d$'\t' -f 6 | sort | uniq | grep -o "$i\w\+" | sort | uniq -c
  done
#+END_SRC

#+RESULTS:
|  2 | Animacy=Anim  |
|  3 | Animacy=Inan  |
|  8 | Case=Acc      |
|  4 | Case=Dat      |
|  6 | Case=Gen      |
|  6 | Case=Ins      |
|  4 | Case=Loc      |
|  4 | Case=Nom      |
|  1 | Degree=Cmp    |
| 32 | Degree=Pos    |
|  5 | Degree=Sup    |
|  7 | Gender=Fem    |
| 11 | Gender=Masc   |
| 10 | Gender=Neut   |
| 10 | Number=Plur   |
| 27 | Number=Sing   |
|  4 | Variant=Short |
*** Verbs
Features:
#+NAME: verb
#+BEGIN_SRC sh :results value :exports both
cat ud-treebanks-v2.5/UD_Russian-PUD/ru_pud-ud-test.conllu | grep -v '#' | grep VERB | cut -d$'\t' -f 6 | sort | uniq | grep -o '\w\+=' | sort | uniq -c
#+END_SRC

#+RESULTS: verb
|   1 | Abbr=     |
|  15 | Animacy=  |
| 146 | Aspect=   |
|  87 | Case=     |
|   1 | Degree=   |
|  76 | Gender=   |
|  45 | Mood=     |
| 137 | Number=   |
|  25 | Person=   |
| 140 | Tense=    |
|   5 | Variant=  |
| 146 | VerbForm= |
| 146 | Voice=    |

Values:
#+BEGIN_SRC sh :results value :var feat=verb :exports both
  for i in $feat
  do
      cat ud-treebanks-v2.5/UD_Russian-PUD/ru_pud-ud-test.conllu | grep -v '#' | grep VERB | cut -d$'\t' -f 6 | sort | uniq | grep -o "$i\w\+" | sort | uniq -c
  done
#+END_SRC

#+RESULTS:
|  1 | Abbr=Yes      |
|  5 | Animacy=Anim  |
| 10 | Animacy=Inan  |
| 83 | Aspect=Imp    |
| 63 | Aspect=Perf   |
| 21 | Case=Acc      |
|  8 | Case=Dat      |
| 19 | Case=Gen      |
| 12 | Case=Ins      |
|  9 | Case=Loc      |
| 18 | Case=Nom      |
|  1 | Degree=Pos    |
| 23 | Gender=Fem    |
| 31 | Gender=Masc   |
| 22 | Gender=Neut   |
|  1 | Mood=Imp      |
| 44 | Mood=Ind      |
| 49 | Number=Plur   |
| 88 | Number=Sing   |
|  7 | Person=1      |
|  7 | Person=2      |
| 11 | Person=3      |
|  9 | Tense=Fut     |
| 70 | Tense=Past    |
| 61 | Tense=Pres    |
|  5 | Variant=Short |
|  4 | VerbForm=Conv |
| 45 | VerbForm=Fin  |
|  5 | VerbForm=Inf  |
| 92 | VerbForm=Part |
| 61 | Voice=Act     |
| 41 | Voice=Mid     |
| 44 | Voice=Pass    |
* Chapter 3
[[lab1.conllu]]
* Chapter 4
~ 10 trees 
- A small town with two minarets glides by.\\
  \begin{forest}
  [S [NP [DET [the]]
         [CN  [CN [[AP [small]] [CN [town]]]]
              [AP [NP_{obl} [Prep [with]] [NP [Num [two]] [NP [minarets]]]]]]]
     [VP [[V [glides]] [ADV [by]]]]]
  \end{forest}
- [NP [PRON He]] (V (VERB collected)) (NP (NOUN cards)) (CONJ and) (VP (VERB traded) (PRON them) [ADP with] (NP [DET the] [ADJ other] [NOUN boys])
- ((Utt (QS (IP Who) (Cop are) (Comp (NP (Prop they)))) (Punct ?))

